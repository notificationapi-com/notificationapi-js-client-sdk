!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NotificationAPI=e():n.NotificationAPI=e()}(this,(()=>(()=>{"use strict";var n={265:(n,e,t)=>{t.d(e,{Z:()=>b});var i=t(645),o=t.n(i),a=t(667),r=t.n(a),c=t(192),p=t(187),s=t(942),d=t(468),l=o()((function(n){return n[1]})),f=r()(c),u=r()(c,{hash:"#iefix"}),h=r()(p),m=r()(s),g=r()(d,{hash:"#icomoon"});l.push([n.id,".notificationapi-container {\n  display: inline-block;\n  position: relative;\n}\n\n.notificationapi-button {\n  all: initial;\n  cursor: pointer;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  position: relative;\n  box-sizing: border-box;\n  text-align: center;\n}\n\n.notificationapi-button::before,\n.notificationapi-button::after {\n  all: unset;\n}\n\n.notificationapi-button * {\n  all: unset;\n}\n\n.notificationapi-button > span {\n  font-size: 1.25em;\n}\n\n.notificationapi-unread {\n  background: #cc1016;\n  border-radius: 50%;\n  min-width: 16px;\n  min-height: 16px;\n  display: inline-block;\n  position: absolute;\n  top: -4px;\n  right: -7px;\n  text-align: center;\n  font-size: 12px;\n  line-height: 16px;\n  color: white;\n}\n\n.notificationapi-unread.hidden {\n  display: none;\n}\n\n.notificationapi-popup {\n  all: initial;\n  display: block;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  border: 1px solid #dddddd;\n  border-radius: 8px;\n  background: #fff;\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n\n.notificationapi-popup.hovering {\n  position: absolute;\n  width: 340px;\n  z-index: 2147483646;\n}\n\n@media screen and (max-width: 767px) {\n  .notificationapi-popup.hovering {\n    width: auto;\n  }\n\n  .notificationapi-popup.hovering .notificationapi-header button {\n    display: inline-block;\n  }\n}\n\n.notificationapi-popup.hovering.closed {\n  display: none;\n}\n\n.notificationapi-popup.inline {\n  width: 100%;\n}\n\n.notificationapi-popup * {\n  all: unset;\n}\n\n.notificationapi-popup div,\n.notificationapi-popup p,\n.notificationapi-popup h1,\n.notificationapi-popup h2,\n.notificationapi-popup h3 {\n  display: block;\n  display: block;\n}\n\n.notificationapi-popup .notificationapi-popup-inner {\n  overflow-y: auto;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0) #f8f8f8;\n}\n\n.notificationapi-popup .notificationapi-popup-inner {\n  max-height: 90vh;\n}\n\n.notificationapi-popup .notificationapi-popup-inner:hover {\n  scrollbar-color: #ddd #eee;\n}\n\n.notificationapi-popup .notificationapi-popup-inner::-webkit-scrollbar {\n  width: 8px;\n}\n\n.notificationapi-popup .notificationapi-popup-inner::-webkit-scrollbar-track {\n  background: #f8f8f8;\n  border-radius: 4px;\n}\n\n.notificationapi-popup .notificationapi-popup-inner::-webkit-scrollbar-thumb {\n  background-color: rgba(0, 0, 0, 0);\n  border-radius: 20px;\n  border: 1px solid rgba(0, 0, 0, 0);\n  background-clip: padding-box;\n}\n\n.notificationapi-popup\n  .notificationapi-popup-inner:hover::-webkit-scrollbar-track {\n  background: #eee;\n}\n\n.notificationapi-popup\n  .notificationapi-popup-inner:hover::-webkit-scrollbar-thumb {\n  background-color: #ddd;\n  border: 1px solid #eee;\n}\n\n.notificationapi-popup .notificationapi-header {\n  margin: 20px 16px 12px 16px;\n  padding: 0;\n  position: relative;\n}\n\n.notificationapi-popup .notificationapi-header h1 {\n  font-size: 24px;\n  display: inline-block;\n}\n\n.notificationapi-popup .notificationapi-header .notificationapi-close-button {\n  border: solid black;\n  border-width: 0 3px 3px 0;\n  padding: 6px;\n  transform: translateY(-9px) rotate(135deg);\n  -webkit-transform: translateY(-9px) rotate(135deg);\n  margin: 0 8px 0 8px;\n  display: none;\n}\n\n.notificationapi-popup\n  .notificationapi-header\n  .notificationapi-preferences-button {\n  color: #444;\n  position: absolute;\n  right: 0;\n  top: 8px;\n  cursor: pointer;\n}\n\n.notificationapi-popup .notificationapi-empty {\n  padding: 40px 20px;\n  text-align: center;\n}\n\n.notificationapi-popup .notificationapi-nomore {\n  padding: 10px 20px;\n  text-align: center;\n  font-size: 12px;\n}\n\n.notificationapi-popup .notificationapi-notification {\n  display: flex;\n  align-self: baseline;\n  margin: 0 8px;\n  padding: 8px;\n  border-radius: 8px;\n  cursor: default;\n}\n\n.notificationapi-popup .notificationapi-notification.unseen {\n  /* background: #eef7ff; */\n}\n\n.notificationapi-popup .notificationapi-notification[href] {\n  cursor: pointer;\n}\n\n.notificationapi-popup .notificationapi-notification,\n.notificationapi-popup .notificationapi-notification:hover,\n.notificationapi-popup .notificationapi-notification:visited {\n  text-decoration: none;\n  color: #111;\n}\n\n.notificationapi-popup .notificationapi-notification:hover {\n  background: #f5f5f5;\n}\n\n.notificationapi-popup .notificationapi-notification-title {\n  margin: 0;\n  padding: 0;\n}\n\n.notificationapi-popup .notificationapi-notification-title b {\n  font-weight: 600;\n}\n\n.notificationapi-popup .notificationapi-notification-imageContainer {\n  width: 64px;\n  min-width: 64px;\n  max-width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  overflow: hidden;\n  position: relative;\n  margin-right: 12px;\n  border: 1px #eee solid;\n  text-align: center;\n}\n\n.notificationapi-popup .notificationapi-notification-image {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n}\n\n.notificationapi-popup .notificationapi-notification-defaultIcon {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 1.5em;\n  color: #444;\n}\n\n.notificationapi-popup .notificationapi-notification-date {\n  color: rgb(9, 75, 255);\n  font-size: 14px;\n  margin: 0;\n  padding: 0;\n}\n\n.notificationapi-preferences-container {\n  z-index: 2147483647;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #222;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n\n.notificationapi-preferences-container.inline {\n  position: relative;\n  display: block;\n  z-index: auto;\n}\n\n.notificationapi-preferences-container.closed {\n  display: none;\n}\n\n.notificationapi-preferences-backdrop {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  z-index: 0;\n  backdrop-filter: blur(2px);\n}\n\n.notificationapi-preferences-container.inline\n  .notificationapi-preferences-backdrop {\n  display: none;\n}\n\n.notificationapi-preferences-popup {\n  background: #fff;\n  padding: 16px;\n  z-index: 1;\n  border-radius: 8px;\n}\n\n.notificationapi-preferences-container.inline\n  .notificationapi-preferences-popup {\n  background: none;\n  border-radius: 0;\n}\n\n.notificationapi-preferences-popup h1 {\n  font-size: 24px;\n  display: inline-block;\n  margin: auto 16px 24px;\n}\n\n.notificationapi-preferences-container.inline\n  .notificationapi-preferences-popup\n  h1 {\n  display: none;\n}\n\n.notificationapi-preferences-close {\n  border: solid black;\n  border-width: 0 3px 3px 0;\n  background-color: transparent;\n  padding: 6px;\n  transform: translateY(-9px) rotate(135deg);\n  -webkit-transform: translateY(-9px) rotate(135deg);\n  margin: 0 0px 0 8px;\n  display: inline-block;\n}\n\n.notificationapi-preferences-container.inline\n  .notificationapi-preferences-close {\n  display: none;\n}\n\n.notificationapi-preferences-empty {\n  text-align: center;\n  padding: 40px;\n}\n\n.notificationapi-preferences-grid {\n  display: grid;\n  padding: 6px;\n  grid-auto-columns: minmax(60px, auto);\n  column-gap: 16px;\n  align-items: center;\n}\n\n.notificationapi-preferences-channel {\n  text-align: center;\n  width: 60px;\n  height: 24px;\n}\n\n.notificationapi-preferences-title {\n  font-weight: 600;\n  min-width: 60px;\n  max-width: 200px;\n  display: inline-block;\n  margin-top: 16px;\n}\n\n.notificationapi-preferences-subtitle {\n  margin-left: 16px;\n  margin-top: 8px;\n  max-width: 200px;\n}\n\n.notificationapi-preferences-toggle {\n  margin-top: 16px;\n}\n\n.notificationapi-preferences-toggle,\n.notificationapi-preferences-subtoggle {\n  width: 60px;\n  text-align: center;\n}\n\n.notificationapi-preferences-expand {\n  background: none;\n  color: #222;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\n\n.notificationapi-preferences-grid *.closed {\n  max-height: 0px;\n  margin-top: 0;\n  transition: max-height 0.15s ease-out;\n}\n\n.notificationapi-preferences-grid * {\n  max-height: 200px;\n  transition: max-height 0.25s ease-in;\n  overflow: hidden;\n}\n\n.notificationapi-preferences-col1 {\n  grid-column: 1/1;\n}\n\n.notificationapi-preferences-col2 {\n  grid-column: 2/2;\n}\n\n.notificationapi-preferences-col3 {\n  grid-column: 3/3;\n}\n\n.notificationapi-preferences-col4 {\n  grid-column: 4/4;\n}\n\n.notificationapi-preferences-col5 {\n  grid-column: 5/5;\n}\n\n.notificationapi-preferences-col6 {\n  grid-column: 6/6;\n}\n\n.notificationapi-preferences-col7 {\n  grid-column: 7/7;\n}\n\n.notificationapi-preferences-col8 {\n  grid-column: 8/8;\n}\n\n.notificationapi-preferences-col9 {\n  grid-column: 9/9;\n}\n\n.notificationapi-preferences-col10 {\n  grid-column: 10/10;\n}\n\n.notificationapi-preferences-col11 {\n  grid-column: 11/11;\n}\n\n.notificationapi-preferences-row1 {\n  grid-row: 1/1;\n}\n\n.notificationapi-preferences-row2 {\n  grid-row: 2/2;\n}\n\n.notificationapi-preferences-row3 {\n  grid-row: 3/3;\n}\n\n.notificationapi-preferences-row4 {\n  grid-row: 4/4;\n}\n\n.notificationapi-preferences-row5 {\n  grid-row: 5/5;\n}\n\n.notificationapi-preferences-row6 {\n  grid-row: 6/6;\n}\n\n.notificationapi-preferences-row7 {\n  grid-row: 7/7;\n}\n\n.notificationapi-preferences-row8 {\n  grid-row: 8/8;\n}\n\n.notificationapi-preferences-row9 {\n  grid-row: 9/9;\n}\n\n.notificationapi-preferences-row10 {\n  grid-row: 10/10;\n}\n\n.notificationapi-preferences-row11 {\n  grid-row: 11/11;\n}\n\n.notificationapi-preferences-loading {\n  margin: 40px auto 40px auto;\n}\n\n/* Loading animation */\n.notificationapi-loading {\n  text-align: center;\n}\n\n/* Switch */\n.notificationapi-preferences-popup .switch {\n  display: inline-block;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.notificationapi-preferences-popup .switch i {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 22px;\n  background-color: #e6e6e6;\n  border-radius: 22px;\n  vertical-align: text-bottom;\n  transition: all 0.3s linear;\n}\n\n.notificationapi-preferences-popup .switch.small i {\n  width: 28px;\n  height: 16px;\n  border-radius: 14px;\n}\n\n.notificationapi-preferences-popup .switch i::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  width: 40px;\n  height: 20px;\n  background-color: #bfbfbf;\n  border-radius: 11px;\n  transform: translate3d(2px, 1px, 0) scale3d(1, 1, 1);\n  transition: all 0.25s linear;\n}\n\n.notificationapi-preferences-popup .switch.small i::before {\n  width: 24px;\n  height: 14px;\n}\n\n.notificationapi-preferences-popup .switch i::after {\n  content: '';\n  position: absolute;\n  left: 0;\n  width: 18px;\n  height: 18px;\n  background-color: #fff;\n  border-radius: 11px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n  transform: translate3d(3px, 2px, 0);\n  transition: all 0.2s ease-in-out;\n}\n\n.notificationapi-preferences-popup .switch.small i::after {\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n  transform: translate3d(3px, 2px, 0);\n}\n\n.notificationapi-preferences-popup .switch:active i::after {\n  width: 28px;\n  transform: translate3d(2px, 2px, 0);\n}\n\n.notificationapi-preferences-popup .switch:active input:checked + i::after {\n  transform: translate3d(16px, 2px, 0);\n}\n\n.notificationapi-preferences-popup .switch input {\n  display: none;\n}\n\n.notificationapi-preferences-popup .switch input:checked + i {\n  background-color: #1890ff;\n}\n\n.notificationapi-preferences-popup .switch input:checked + i::before {\n  transform: translate3d(18px, 2px, 0) scale3d(0, 0, 0);\n}\n\n.notificationapi-preferences-popup .switch input:checked + i::after {\n  transform: translate3d(24px, 2px, 0);\n}\n\n.notificationapi-preferences-popup .switch input:disabled + i {\n  opacity: 0.5;\n}\n\n.notificationapi-preferences-popup .switch.small input:checked + i::after {\n  transform: translate3d(14px, 2px, 0);\n}\n\n/* fonts */\n@font-face {\n  font-family: 'icomoon';\n  src: url("+f+");\n  src: url("+u+") format('embedded-opentype'),\n    url("+h+") format('truetype'),\n    url("+m+") format('woff'),\n    url("+g+") format('svg');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n\n[class^='icon-'],\n[class*=' icon-'] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-spinner:before {\n  content: '\\e900';\n}\n.icon-bell-o:before {\n  content: '\\f0a2';\n}\n.icon-bell:before {\n  content: '\\f0f3';\n}\n.icon-commenting-o:before {\n  content: '\\f27b';\n}\n.icon-cog:before {\n  content: '\\f013';\n}\n.icon-gear:before {\n  content: '\\f013';\n}\n\n@keyframes anim-rotate {\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.notificationapi-preferences-popup .spinner {\n  display: inline-block;\n  font-size: 4em;\n  height: 1em;\n  line-height: 1;\n  margin: 0.5em;\n  animation: anim-rotate 2s infinite linear;\n  text-shadow: 0 0 0.25em rgba(255, 255, 255, 0.3);\n}\n",""]);const b=l},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,i){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var c=0;c<n.length;c++){var p=[].concat(n[c]);i&&o[p[0]]||(t&&(p[2]?p[2]="".concat(t," and ").concat(p[2]):p[2]=t),e.push(p))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),"string"!=typeof(n=n&&n.__esModule?n.default:n)?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},220:(n,e,t)=>{t.r(e),t.d(e,{default:()=>r});var i=t(379),o=t.n(i),a=t(265);o()(a.Z,{insert:"head",singleton:!1});const r=a.Z.locals||{}},379:(n,e,t)=>{var i,o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),a=[];function r(n){for(var e=-1,t=0;t<a.length;t++)if(a[t].identifier===n){e=t;break}return e}function c(n,e){for(var t={},i=[],o=0;o<n.length;o++){var c=n[o],p=e.base?c[0]+e.base:c[0],s=t[p]||0,d="".concat(p," ").concat(s);t[p]=s+1;var l=r(d),f={css:c[1],media:c[2],sourceMap:c[3]};-1!==l?(a[l].references++,a[l].updater(f)):a.push({identifier:d,updater:m(f,e),references:1}),i.push(d)}return i}function p(n){var e=document.createElement("style"),i=n.attributes||{};if(void 0===i.nonce){var a=t.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(n){e.setAttribute(n,i[n])})),"function"==typeof n.insert)n.insert(e);else{var r=o(n.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var s,d=(s=[],function(n,e){return s[n]=e,s.filter(Boolean).join("\n")});function l(n,e,t,i){var o=t?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(n.styleSheet)n.styleSheet.cssText=d(e,o);else{var a=document.createTextNode(o),r=n.childNodes;r[e]&&n.removeChild(r[e]),r.length?n.insertBefore(a,r[e]):n.appendChild(a)}}function f(n,e,t){var i=t.css,o=t.media,a=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=i;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(i))}}var u=null,h=0;function m(n,e){var t,i,o;if(e.singleton){var a=h++;t=u||(u=p(e)),i=l.bind(null,t,a,!1),o=l.bind(null,t,a,!0)}else t=p(e),i=f.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var t=c(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var i=0;i<t.length;i++){var o=r(t[i]);a[o].references--}for(var p=c(n,e),s=0;s<t.length;s++){var d=r(t[s]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}t=p}}}},192:(n,e,t)=>{n.exports=t.p+"17c7f2fbb58c5a6d3c83.eot?xg9cqd"},468:(n,e,t)=>{n.exports=t.p+"7414a30b100a7e1e07f0.svg?xg9cqd"},187:(n,e,t)=>{n.exports=t.p+"ed9de9f324eb78f96c2a.ttf?xg9cqd"},942:(n,e,t)=>{n.exports=t.p+"531d8118018b944eba00.woff?xg9cqd"}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={id:i,exports:{}};return n[i](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var i=e.getElementsByTagName("script");i.length&&(n=i[i.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.nc=void 0;var i={};return(()=>{var n;t.d(i,{default:()=>a}),function(n){n.TopLeft="topLeft",n.TopRight="topRight",n.LeftTop="leftTop",n.LeftBottom="leftBottom",n.BottomLeft="bottomLeft",n.BottomRight="bottomRight",n.RightTop="rightTop",n.RightBottom="rightBottom"}(n||(n={}));var e=function(n,e,t,i){return new(t||(t=Promise))((function(o,a){function r(n){try{p(i.next(n))}catch(n){a(n)}}function c(n){try{p(i.throw(n))}catch(n){a(n)}}function p(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(r,c)}p((i=i.apply(n,e||[])).next())}))},o=function(n,e){var t,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(n,r)}catch(n){a=[6,n],i=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};t(220);const a=function(){function t(e){var t,i=this;if(this.destroy=function(){var n;null===(n=i.websocket)||void 0===n||n.close(),Object.values(i.elements).map((function(n){n&&n.remove()}))},this.showInApp=function(e){i.state.inappOptions=e;var t=document.getElementById(e.root);if(t)if(i.elements.root=t,!e.popupPosition||Object.values(n).includes(e.popupPosition)){t.hasChildNodes()&&(t.innerHTML="");var o=document.createElement("div");o.classList.add("notificationapi-container"),t.appendChild(o),i.elements.popup=document.createElement("div");var a=i.elements.popup;if(a.classList.add("notificationapi-popup"),e.inline)a.classList.add("inline");else{a.classList.add("popup"),a.classList.add("hovering"),a.classList.add("closed");var r=document.createElement("button");r.classList.add("notificationapi-button"),r.innerHTML='<span class="icon-bell-o"></span>',o.appendChild(r),r.onclick=function(){a.classList.contains("closed")?i.openInAppPopup():i.closeInAppPopup()},i.elements.button=r,window.addEventListener("click",(function(n){var e,t,i,o=null!==(e=n.target.closest(".notificationapi-popup"))&&void 0!==e&&e,r=null!==(t=n.target.closest(".notificationapi-button"))&&void 0!==t&&t,c=null!==(i=n.target.closest(".notificationapi-preferences-container"))&&void 0!==i&&i;r||o||c||a.classList.add("closed")}));var c=document.createElement("div");c.classList.add("notificationapi-unread"),r.appendChild(c),i.elements.unread=c,i.setInAppUnread(i.state.unread)}o.appendChild(a),i.elements.popupInner=document.createElement("div");var p=i.elements.popupInner;p.classList.add("notificationapi-popup-inner"),a.appendChild(p),i.elements.popupInner=p,i.elements.header=document.createElement("div");var s=document.createElement("button");s.classList.add("notificationapi-close-button"),s.innerHTML='<i class=".notificationapi-arrow .notificationapi-arrow-left"></i>',s.addEventListener("click",(function(){i.closeInAppPopup()}));var d=document.createElement("h1");d.innerHTML="Notifications";var l=document.createElement("button");l.classList.add("notificationapi-preferences-button"),l.innerHTML='<span class="icon-cog"></span>',l.addEventListener("click",(function(){i.showUserPreferences()})),i.elements.header.appendChild(s),i.elements.header.appendChild(d),i.elements.header.appendChild(l),i.elements.header.classList.add("notificationapi-header"),p.appendChild(i.elements.header);var f=document.createElement("div");f.classList.add("notificationapi-empty"),f.innerHTML="You don't have any notifications!",p.appendChild(f),i.elements.empty=f,i.processNotifications(i.state.notifications),p.onscroll=function(){if(p.scrollTop+p.clientHeight>=p.scrollHeight-100&&(new Date).getTime()-i.state.lastNotificationsRequestAt>=500&&i.websocket&&(void 0===i.state.lastResponseNotificationsCount||i.state.lastResponseNotificationsCount>=50)){i.state.lastNotificationsRequestAt=(new Date).getTime();var n={route:"inapp_web/notifications",payload:{before:i.state.oldestNotificationsDate,count:50}};i.websocket.send(JSON.stringify(n))}},i.sendWSMessage({route:"inapp_web/unread_count"}),i.sendWSMessage({route:"inapp_web/notifications",payload:{count:50}}),i.websocket&&i.websocket.addEventListener("message",(function(n){var e=JSON.parse(n.data);if(e&&e.route){if("inapp_web/unread_count"===e.route){var t=e;i.setInAppUnread(t.payload.count)}if("inapp_web/notifications"===e.route&&(t=e,i.state.lastResponseNotificationsCount=t.payload.notifications.length,i.processNotifications(t.payload.notifications),t.payload.notifications.length<50&&!i.elements.empty)){var o=document.createElement("div");o.innerHTML="No more notifications to load",o.classList.add("notificationapi-nomore"),p.append(o)}if("inapp_web/new_notifications"===e.route){t=e;var a=i.state.notifications.length;i.processNotifications(t.payload.notifications);var r=i.state.notifications.length;i.setInAppUnread(i.state.unread+r-a)}}}))}else console.error('"'.concat(e.popupPosition,'" is not a valid position. Valid positions: ').concat(Object.values(n).join(", ")));else console.error('There are no HTML elements with id="'.concat(e.root,'" on the page.'))},this.elements={},this.state={initOptions:e,lastNotificationsRequestAt:0,notifications:[],unread:0,oldestNotificationsDate:""},!1!==e.websocket){var o="".concat(null!==(t=e.websocket)&&void 0!==t?t:"wss://ws.notificationapi.com","?envId=").concat(encodeURIComponent(e.clientId),"&userId=").concat(encodeURIComponent(e.userId)).concat(e.userIdHash?"&userIdHash="+encodeURIComponent(e.userIdHash):"");this.websocket=new WebSocket(o)}}return t.prototype.showUserPreferences=function(n){var e=this;if(this.elements.preferencesContainer)this.elements.preferencesContainer.classList.remove("closed");else{var t=document.getElementsByTagName("body")[0];if(null==n?void 0:n.parent){var i=document.getElementById(n.parent);i?t=i:console.error('There are no HTML elements with id="'.concat(n.parent,'" on the page.'))}var o=document.createElement("div");o.classList.add("notificationapi-preferences-container"),(null==n?void 0:n.parent)&&o.classList.add("inline"),this.elements.preferencesContainer=o,t.appendChild(o);var a=document.createElement("div");a.classList.add("notificationapi-preferences-backdrop"),a.addEventListener("click",(function(){o.classList.add("closed")})),o.appendChild(a);var r=document.createElement("div");r.classList.add("notificationapi-preferences-popup"),o.appendChild(r),this.elements.preferencesPopup=r;var c=document.createElement("button");c.classList.add("notificationapi-preferences-close"),c.addEventListener("click",(function(){o.classList.add("closed")})),r.appendChild(c);var p=document.createElement("h1");p.innerHTML="Notification Preferences",r.appendChild(p);var s=document.createElement("div");s.classList.add("notificationapi-loading");var d=document.createElement("span");d.classList.add("icon-spinner","spinner"),s.appendChild(d),r.appendChild(s),this.elements.preferencesLoading=s,this.websocket&&this.websocket.addEventListener("message",(function(n){var t=JSON.parse(n.data);if(t&&t.route&&"user_preferences/preferences"===t.route){var i=t;e.renderPreferences(i.payload.userPreferences)}}))}this.sendWSMessage({route:"user_preferences/get_preferences"})},t.prototype.getUserPreferences=function(){return e(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this.sendWSMessage({route:"user_preferences/get_preferences"}),[4,this.websocketMessageReceived("user_preferences/preferences")];case 1:return[2,n.sent().payload.userPreferences]}}))}))},t.prototype.patchUserPreference=function(n,e,t,i){var o={route:"user_preferences/patch_preferences",payload:[{notificationId:n,channelPreferences:[{channel:e,state:t}]}]};i&&(o.payload[0].subNotificationId=i),this.sendWSMessage(o)},t.prototype.openInAppPopup=function(){var e,t,i,o,a,r,c,p,s,d,l;this.elements.popup&&this.elements.popupInner&&this.elements.button&&this.state.inappOptions&&!this.state.inappOptions.inline&&(t=this.elements.popup,i=this.elements.popupInner,o=this.elements.button,a=null!==(e=this.state.inappOptions.popupPosition)&&void 0!==e?e:n.RightBottom,r=a.toString(),c=document.documentElement.clientHeight+"px",p="auto",s="auto",d="auto",l="auto",window.innerWidth<768?(p=-o.getBoundingClientRect().top+"px",s=-(document.documentElement.clientHeight-o.getBoundingClientRect().bottom)+"px",d=-o.getBoundingClientRect().left+"px",l=-(document.documentElement.clientWidth-o.getBoundingClientRect().right)+"px"):(r.startsWith("top")&&(s=o.clientHeight+10+"px",c=o.getBoundingClientRect().top-20+"px"),r.startsWith("bottom")&&(s="auto",p=o.clientHeight+10+"px",c=window.innerHeight-o.getBoundingClientRect().bottom-40+"px"),r.startsWith("left")&&(d="auto",l=o.clientWidth+10+"px"),r.startsWith("right")&&(l="auto",d=o.clientWidth+10+"px"),r.endsWith("Top")&&(p="auto",s="0px",c=o.getBoundingClientRect().bottom-20+"px"),r.endsWith("Bottom")&&(s="auto",p="0px",c=window.innerHeight-o.getBoundingClientRect().top-40+"px"),r.endsWith("Left")&&(d="auto",l="0px"),r.endsWith("Right")&&(l="auto",d="0px")),t.style.top=p,t.style.bottom=s,t.style.left=d,t.style.right=l,i.style.maxHeight=c,this.setInAppUnread(0),this.elements.popup.classList.remove("closed")),this.websocket&&1===this.websocket.readyState&&this.websocket.send(JSON.stringify({route:"inapp_web/unread_clear"}))},t.prototype.closeInAppPopup=function(){this.elements.popup&&this.state.inappOptions&&!this.state.inappOptions.inline&&this.elements.popup.classList.add("closed")},t.prototype.setInAppUnread=function(n){this.state.unread=n,this.elements.unread&&this.state.inappOptions&&!this.state.inappOptions.inline&&(0===n?this.elements.unread.classList.add("hidden"):this.elements.unread.classList.remove("hidden"),this.elements.unread.innerHTML=n<100?n+"":"+99")},t.prototype.processNotifications=function(n){var e=this,t=this.elements.header,i=this.elements.popupInner;if(t&&i){var o=n.filter((function(n){return!e.state.notifications.find((function(e){return e.id===n.id}))}));this.state.notifications=this.state.notifications.concat(o),this.state.notifications.sort((function(n,e){return Date.parse(e.date)-Date.parse(n.date)})),this.state.notifications.map((function(n,o){if(!i.querySelector('[data-notification-id="'.concat(n.id,'"]'))){(!e.state.oldestNotificationsDate||n.date<e.state.oldestNotificationsDate)&&(e.state.oldestNotificationsDate=n.date);var a=document.createElement("a");a.setAttribute("data-notification-id",n.id),a.classList.add("notificationapi-notification"),n.seen||a.classList.add("unseen"),n.redirectURL&&(a.href=n.redirectURL);var r=document.createElement("div");if(r.classList.add("notificationapi-notification-imageContainer"),n.imageURL){var c=document.createElement("img");c.classList.add("notificationapi-notification-image"),c.src=n.imageURL,r.appendChild(c)}else{var p=document.createElement("span");p.classList.add("icon-commenting-o"),p.classList.add("notificationapi-notification-defaultIcon"),r.appendChild(p)}a.appendChild(r);var s=document.createElement("div");s.classList.add("notificationapi-notification-metaContainer");var d=document.createElement("p");d.classList.add("notificationapi-notification-title"),d.innerHTML=n.title,s.appendChild(d);var l=document.createElement("p");if(l.classList.add("notificationapi-notification-date"),l.innerHTML=function(n){if(n<0)return"just now";var e=Math.round(n)/1e3,t=Math.round(e/60),i=Math.round(e/3600),o=Math.round(e/86400),a=Math.round(e/2592e3),r=Math.round(e/9234e5);return r>0?"".concat(r," ").concat(1===r?"year":"years"," ago"):a>0?"".concat(a," ").concat(1===a?"month":"months"," ago"):o>0?"".concat(o," ").concat(1===o?"day":"days"," ago"):i>0?"".concat(i," ").concat(1===i?"hour":"hours"," ago"):t>0?"".concat(t," ").concat(1===t?"minute":"minutes"," ago"):"just now"}(Date.now()-new Date(n.date).getTime()),s.appendChild(l),a.appendChild(s),0===o)t.insertAdjacentElement("afterend",a);else{var f=i.querySelector('[data-notification-id="'.concat(e.state.notifications[o-1].id,'"]'));f?f.insertAdjacentElement("afterend",a):console.error("error finding previous notification",e.state.notifications[o-1])}}})),o.length>0&&this.elements.empty&&(this.elements.empty.remove(),delete this.elements.empty)}},t.prototype.renderPreferences=function(n){var e,t,i=this;if(this.elements.preferencesPopup){null===(e=this.elements.preferencesLoading)||void 0===e||e.remove(),this.elements.preferencesLoading=void 0;var o=this.elements.preferencesPopup,a=n.filter((function(n){return n.settings.length>0}));if(0===a.length&&!this.elements.preferencesEmpty){var r=document.createElement("div");return r.classList.add("notificationapi-preferences-empty"),r.innerHTML="There are no notifications to configure.",o.appendChild(r),void(this.elements.preferencesEmpty=r)}null===(t=this.elements.preferencesGrid)||void 0===t||t.remove(),this.elements.preferencesGrid=void 0;var c=document.createElement("div");c.classList.add("notificationapi-preferences-grid"),this.elements.preferencesGrid=c,o.appendChild(c);var p={};a.map((function(n){n.settings.map((function(n){p[n.channel]||(p[n.channel]=n.channelName)}))}));var s=1;Object.values(p).map((function(n,e){var t=document.createElement("div");t.innerHTML=n,t.classList.add("notificationapi-preferences-channel","notificationapi-preferences-col".concat(e+2),"notificationapi-preferences-row".concat(s)),c.appendChild(t)})),s++,a.map((function(n){var e=document.createElement("div");if(e.classList.add("notificationapi-preferences-title","notificationapi-preferences-col1","notificationapi-preferences-row".concat(s)),e.innerHTML=n.title,c.appendChild(e),n.settings.map((function(e){var t=document.createElement("div"),o=Object.keys(p).indexOf(e.channel)+2;t.classList.add("notificationapi-preferences-toggle","notificationapi-preferences-col".concat(o),"notificationapi-preferences-row".concat(s)),t.setAttribute("data-notificationId",n.notificationId),t.setAttribute("data-channel",e.channel);var a=document.createElement("label");a.classList.add("switch"),t.appendChild(a);var r=document.createElement("input");r.setAttribute("type","checkbox"),r.checked=e.state,a.appendChild(r);var d=document.createElement("i");a.appendChild(d),r.addEventListener("change",(function(){c.querySelectorAll('.notificationapi-preferences-subtoggle[data-notificationid="'.concat(n.notificationId,'"][data-channel="').concat(e.channel,'"] input')).forEach((function(n){n.disabled=!r.checked})),i.patchUserPreference(n.notificationId,e.channel,r.checked)})),c.appendChild(t)})),s++,n.subNotificationPreferences&&n.subNotificationPreferences.length>0){var t=document.createElement("button");t.innerHTML="expand",t.setAttribute("data-notificationId",n.notificationId);var a=Object.keys(p).length+2;t.classList.add("notificationapi-preferences-expand","notificationapi-preferences-col".concat(a),"notificationapi-preferences-row".concat(s-1)),t.addEventListener("click",(function(n){var e=n.target.getAttribute("data-notificationId");o.querySelectorAll('[data-notificationId="'.concat(e,'"][data-subNotificationId]')).forEach((function(n){n.classList.toggle("closed")}))})),c.appendChild(t),n.subNotificationPreferences.map((function(e){var t=document.createElement("div");t.classList.add("notificationapi-preferences-subtitle","notificationapi-preferences-col1","notificationapi-preferences-row".concat(s),"closed"),t.setAttribute("data-subNotificationId",e.subNotificationId),t.setAttribute("data-notificationId",n.notificationId),t.innerHTML=e.title,c.appendChild(t),e.settings.map((function(t){var o=document.createElement("div"),a=Object.keys(p).indexOf(t.channel)+2;o.classList.add("notificationapi-preferences-subtoggle","notificationapi-preferences-col".concat(a),"notificationapi-preferences-row".concat(s),"closed"),o.setAttribute("data-notificationId",e.notificationId),o.setAttribute("data-subNotificationId",e.subNotificationId),o.setAttribute("data-channel",t.channel);var r=document.createElement("label");r.classList.add("switch","small"),o.appendChild(r);var d=document.createElement("input");d.setAttribute("type","checkbox"),d.checked=t.state,n.settings.find((function(n){return n.channel===t.channel&&!1===n.state}))&&(d.disabled=!0),r.appendChild(d);var l=document.createElement("i");r.appendChild(l),d.addEventListener("change",(function(){i.patchUserPreference(n.notificationId,t.channel,d.checked,e.subNotificationId)})),c.appendChild(o)})),s++}))}}))}},t.prototype.sendWSMessage=function(n){if(this.websocket){var e=this.websocket;e.readyState==e.OPEN?e.send(JSON.stringify(n)):e.addEventListener("open",(function(){e.send(JSON.stringify(n))}))}},t.prototype.websocketMessageReceived=function(n){return e(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this.websocketOpened()];case 1:return e=t.sent(),[2,new Promise((function(t){e.addEventListener("message",(function(e){var i=JSON.parse(e.data);i&&i.route&&i.route===n&&t(i)}))}))]}}))}))},t.prototype.websocketOpened=function(){var n=this;return new Promise((function(e,t){if(n.websocket){var i=n.websocket;i.readyState==i.OPEN?e(i):i.addEventListener("open",(function(){e(i)}))}else t("Websocket is not present.")}))},t}()})(),i.default})()));